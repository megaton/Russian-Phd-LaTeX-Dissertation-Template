Черновик
===============================================================================

Настоящая работа исследует алгоритмы компьютерной графики для аппаратной визуализации объектов, построенных из булевых комбинаций трехмерных объектов. В областях компьютерной графики и моделирования это называется визуализацией *конструктивной блочной геометрии* (*Constructive Solid Geometry* или *CSG*).

Настоящая работа направлена на решение проблемы масштабируемости современных подходов к визуализации CSG моделей с использованием графических процессоров.

// **TODO**: В 2000-х годах, в связи с бурным развитием графических процессоров, было предложено мого работ на тему GPU рендеринга CSG деревьев освещённых в литературе, однако новые реалии требуют новых подходов чтобы рисовать деревья из десятков и сотен тысяч примитивов. В настоящей работе предлагается новый метод визуализации CSG деревьев с использованием графических процессоров, целью которого является минимизация времени затрачиваемого на визуализацию Булевых комбинаций геометрических объектов в интерактивном приложении.

Необходимость в данной работе возникла в ходе конкретного индустриального проекта -- интерактивная визуализация CSG моделей используемых для лучевой симуляции методом Монте-Карло. стояла задача максимально точно визуализировать геометрию при минимальной (быстрой) подготовке данных. Поскольку элементы конструкций, разработанные для симуляции уже были представлены в виде CSG моделей, логичным шагом стал поиск метода прямой визуализации CSG моделей.

Алгоритм визуализации CSG моделей, представленный в настоящей работе, основан на методе трассировки лучей и использует логику конечного автомата для классификации точек вдоль луча.

// **TODO**: взять из статьи ещё подробностей про новый алгоритм для вступления
// **TODO**: про глобальное освещение
// **TODO**: про анимацию (изменение CSG дерева)

Поверхностное и твердотельное моделирование
-------------------------------------------------------------------------------

(http://stu.sernam.ru/book_g_mod.php?id=67)

В геометрическом моделировании используются термины «поверхностное моделирование» (моделирование поверхностей) и «твердотельное моделирование» (моделирование твердых тел). В обоих случаях результатом моделирования является некоторая оболочка (или несколько оболочек), описывающая поверхность моделируемого объекта. Но процесс моделирования в первом случае отличается от процесса моделирования во втором случае.

В поверхностном моделировании сначала создаются и модифицируются требуемым образом поверхности, описывающие отдельные элементы моделируемого объекта. Эти поверхности обрезают по линиям пересечения, сопрягают друг с другом поверхностями скругления или перехода, а также выполняют над ними другие операции. Затем из полученных поверхностей собирают оболочку. В поверхностном моделировании результирующая оболочка не обязательно должна быть замкнутой. Она может отражать лишь часть (главную часть) моделируемого объекта. Поверхностное моделирование позволяет сосредоточить усилия на сложных формах объекта и широко применяется для проектирования кузовов автомобилей и планеров самолетов.

В твердотельном моделировании с самого начала работа идет с оболочками тел, а не с отдельными поверхностями. Оболочки полностью описывают поверхности моделируемых объектов, отделяющие их внутренний объем от остальной части пространства. Процесс построения оболочки тела в данном случае аналогичен процессу изготовления моделируемого объекта. Сначала создается оболочка некоторой заготовки простой формы. Далее оболочка заготовки изменяется необходимым образом. Используя для этого булевы операции над телами, приходим к конструктивной блочной геометрии (Constructive Solid Geometry или CSG) **[74-St]**. Конструктивная блочная геометрия оперирует примитивами и операциями над ними. В главе **1** будут описаны CSG модели с точки зрения составляющих их примитивов, операций над ними и CSG деревьев. Будут описаны обход и обработка CSG деревьев. В контексте визуализации CSG моделей, преобразования и упрощения CSG дерева являются предварительными шагами, позволяющими улучшить производительность методов визуализации, таких как **наш TODO: название**.

Эта глава подготавливает основу (background) для последующих глав. В главе **2** описаны предшествующие подходы к визуализации CSG моделей с использованием графических процессоров. Алгоритм **наш TODO: название** описан в главе **3**.

Примитивы
-------------------------------------------------------------------------------

Геометрические модели, используемые в CSG моделировании, называются *примитивами*. Примитивы ограничивают определённый объем, разделяя пространство на регионы внутри и снаружи. Поверхность примитива является границей между внутренним и внешним пространством примитива.

К примитивам, используемым для твердотельного моделирования, часто относят такие объекты как прямоугольная призма, сфера, цилиндр, конус и тор **рисунок**. Некоторые системы также поддерживают триангулированные объекты, обязательным требованием является замкнутость такого объекта -- его поверхность должна однозначно делить пространство на внутреннюю и внешнюю область. Объемы, тесселированные на примитивы, такие как тетраэдры и призмы, также подходят для CSG моделирования.

Примитивы могут быть ограниченными и неограниченными -- с конечным или бесконечным объемом. Неограниченные примитивы, такие как плоскости, бесконечные цилиндры и другие неявно заданные поверхности также могут быть использованы для CSG моделирования, однако CSG модели построенные из таких примитивов не обязательно являются замкнутыми.

Алгоритмы компьютерной графики часто фокусируются, главным образом, на поверхностях объектов, так как эти поверхности обычно и формируют результирующее изображение. В CSG моделировании и визуализации объемы примитивов не менее важны. Следующий раздел описывает как CSG операции комбинируют объемы примитивов в более сложные объекты.

// **TODO**: булевы операции с маленькой ведь буквы?

Операции
-------------------------------------------------------------------------------

CSG примитивы комбинируются в более сложные объекты с помощью операций булевой алгебры: *объединение*, *пересечение* и *вычитание (разность?)*. Настоящая работа использует нотацию логических операций над множествами: ∪, ∩ и − для объединения, пересечения и вычитания соответственно.

// **TODO**: определение операций из St или ещё откуда-нибудь
// **TODO**: рисунок с операциями, стандартный виджет

CSG дерево
-------------------------------------------------------------------------------

// **TODO**: определить иерархическую модель? (St)

CSG *дерево* это иерархическая модель состоящая из примитивов во внешних узлах и булевых операций во внутренних узлах. Дочерними узлами внутреннего узла могут быть как операции, так и примитивы. Корень дерева (узел без родительских узлов) соответствует объекту, моделируемому всем деревом.

// **TODO**: рисунок изображает дерево из таких то примитивов
С узлами CSG дерева ассоциируют матрицы трансформации, что позволяет задавать позицию, ориентацию и масштаб для примитивов и поддеревьев. Трансформация задается относительно родительского узла, таким образом каждый узел имеет свою локальную систему координат. Для трассировки лучей это позволяет упростить алгоритмы пересечения с примитивами, так как задачу можно свести к поиску пересечения луча с примитивом заданным в локальной системе координат.

CSG деревья обычно представляются бинарными деревьями -- каждый внутренний узел содержит два дочерних узла.

// **TODO**: ещё примеры простых CSG деревьев

Обход CSG дерева
-------------------------------------------------------------------------------

Алгоритмы на CSG деревьях в общем случае предполагают *обход* дерева -- посещение алгоритмом каждого узла дерева. Обход обычно начинается с корня дерева и продолжается до внешних узлов рекурсивно:

* *Preorder обход* посещает узел перед тем как посетить его левое и правое поддерево.
* *Inorder обход* посещает левое поддерево узла, затем сам узел и правое поддерево.
* *Postorder обход* посещает левое и правое поддерево, а затем сам узел.

// **TODO**: перевод обходов

Inorder обход позволяет, в том числе, получить CSG выражене, соответствующее дереву, слева на право.

// **TODO**: Для дерева на рисунке таком-то выражение будет таким


Классификация (систематика?) представлений геометрии
-------------------------------------------------------------------------------

(Representations of Geometry for Computer Graphics)

Рассмотрим частичную систематику представлений геометрии, основанную на базовых понятиях. Для каждого листа дерева классификации, приведено представление геометрии, наилучшим образом иллюстрирующее конкретную классификацию.

// **TODO**: Рисунок, систематика представлений геометрии


